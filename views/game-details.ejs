<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head.ejs') %>
<body>

<%- include('./partials/nav.ejs') %>

<main class="container-xxl py-4 py-xl-5 mt-5">
    <section class="text-center pb-5">
        <h1 class="display-1 mb-2">Game Details</h1>
        <p class="lead text-muted mb-5"><%= gameDateMonth %> <%= game.date.getDate() %><%= gameDateOrdinal %>, <%= game.date.getFullYear() %></p>
        <div class="row justify-content-around align-items-center mb-4">
            <div class="col-sm-4 col-lg-3"><p class="lead mb-0"><%= game.homeTeam %></p></div>
            <div class="col-sm-4 col-lg-2"><p class="h1 mx-4 mb-0">VS</p></div>
            <div class="col-sm-4 col-lg-3"><p class="lead mb-0"><%= game.awayTeam %></p></div>
        </div>
        <p class="text-muted mb-4 mb-lg-5"><%= game.stadium %><% if (game.attendance) { %> -  Attendance: <%= game.attendance.toLocaleString() %><% } %></p>
        <div class="row justify-content-center text-center">
            <div class="col-auto">
                <div class="card shadow mb-4 mb-lg-5">
                    <div class="card-body px-5">
                        <h2><%= game.thornsWinLossDraw %></h2>
                        <p class="lead">Final Score: <%= game.finalScore %></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-around">
            <div class="col-md-5">
                <h4 class="mb-4">Goals:</h4>
                <% if (game.goals != null) { %>
                    <ul class="list-group mb-4">
                        <% game.goals.forEach(goal => { %>
                            <li class="list-group-item">
                                <strong><%= goal.player %></strong> (<%= goal.team %>) @ <%= goal.minute %>
                                <% if (goal.assistedBy) { %> <br>Assist: <%= goal.assistedBy %> <% } %>
                                <% if (goal.pk) { %> <br>Penalty Kick <% } %>
                            </li>
                        <% }); %>
                    </ul>
                <% } else { %>
                    <p>There are no goals to display.</p>
                <% } %>
            </div>
            <div class="col-md-5">
                <h4 class="mb-4">Infractions:</h4>
                <% if (game.infractions != null) { %>
                    <ul class="list-group mb-4">
                        <% game.infractions.forEach(infraction => { %>
                            <li class="list-group-item">
                                <strong><%= infraction.player %></strong> (<%= infraction.team %>)
                                <br><%= infraction.booked %> @ <%= infraction.minute %>
                            </li>
                        <% }); %>
                    </ul>
                <% } else { %>
                    <p>There are no infractions to display.</p>
                <% } %>
            </div>
        </div>
    </section>
</main>

<%- include('./partials/footer.ejs') %>

</body>
</html>
